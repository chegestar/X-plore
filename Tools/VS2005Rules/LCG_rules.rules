<?xml version="1.0" encoding="utf-8"?>
<VisualStudioToolFile
	Name="LCG build rules"
	Version="8.00"
	>
	<Rules>
		<CustomBuildRule
			Name="SVG_MIF"
			DisplayName="SVG to MIF icon converter"
			CommandLine="..\..\Tools\Symbian\9.1\Tools\mifconv.exe &quot;$(IntDir)\$(InputName).mif&quot; [Animated] &quot;$(InputPath)&quot; &gt;nul&#x0D;&#x0A;if &quot;[MIFCOPY]&quot; NEQ &quot;&quot; copy &quot;$(IntDir)\$(InputName).mif&quot; &quot;[MIFCOPY]&quot; &gt;nul"
			Outputs="$(IntDir)\$(InputName).mif"
			FileExtensions="*.svg"
			ExecutionDescription="Creating MIF icon..."
			>
			<Properties>
				<BooleanProperty
					Name="Animated"
					DisplayName="Animated"
					Description="Specifies animated flag for icon"
					Switch="/A"
				/>
				<StringProperty
					Name="MIFCOPY"
					DisplayName="Copy to emulator"
					Description="Additional target filename, where icon will be copied (emulator resource folder)"
					Switch="[value]"
				/>
			</Properties>
		</CustomBuildRule>
		<CustomBuildRule
			Name="GCC_CPP_Symbian_2nd"
			DisplayName="GCC Symbian 2nd ARM compiler"
			CommandLine="set path=..\..\Tools\Symbian\7.0\gcc\bin&#x0D;&#x0A;gcc -c -pipe -s [OPTIMIZE] -fomit-frame-pointer -fno-default-inline -nostdinc -DNDEBUG -D_UNICODE -D__GCC32__ -D__MARM__ -D__SYMBIAN32__ -D__EPOC32__ -march=armv4t -mthumb-interwork [NOWARN] -I &quot;..\..\Include&quot; -fno-builtin -fno-rtti [NOWARN] -DS60 -I $(IM_SYMB_S60_SDK)\Include [ADDOPTS] -o &quot;$(IntDir)\$(InputName).o&quot; &quot;$(InputPath)&quot; [LISTING]&#x0D;&#x0A;"
			Outputs="$(IntDir)\$(InputName).o"
			AdditionalDependencies="..\..\Include;[ADDDEPS]"
			FileExtensions="*.xxx"
			ExecutionDescription="$(InputFileName)"
			>
			<Properties>
				<StringProperty
					Name="ADDDEPS"
					DisplayName="Additional dependencies"
					Description="List of dependencies (files or folders), which must be older than file generated by this rule. Separate multiple by &apos;;&apos;."
					Switch="[value]"
				/>
				<BooleanProperty
					Name="LISTING"
					DisplayName="Listing file"
					Description="Generate assembly listing file"
					Switch="-Wa,-alhn=$(IntDir)\$(InputName).lst"
					DefaultValue="true"
				/>
				<BooleanProperty
					Name="NOWARN"
					DisplayName="No warnings"
					Description="Inhibit all warning messages. "
					Switch="-w"
					DefaultValue="true"
				/>
				<EnumProperty
					Name="OPTIMIZE"
					DisplayName="Optimization type"
					Description="General optimization type"
					>
					<Values>
						<EnumValue
							Value="0"
							Switch="-O"
							DisplayName="Basic (-O)"
						/>
						<EnumValue
							Value="1"
							Switch="-O2"
							DisplayName="Optimize even more (-O2)"
						/>
						<EnumValue
							Value="2"
							Switch="-O3"
							DisplayName="Optimize yet more (-O3)"
						/>
						<EnumValue
							Value="3"
							Switch="-O0"
							DisplayName="Do not optimize (-O0)"
						/>
						<EnumValue
							Value="4"
							Switch="-Os"
							DisplayName="Optimize for size (-Os)"
						/>
					</Values>
				</EnumProperty>
				<StringProperty
					Name="ADDOPTS"
					DisplayName="Additional settings"
					Description="Any additional settings passed to gcc compiler"
					Switch="[value]"
				/>
			</Properties>
		</CustomBuildRule>
		<CustomBuildRule
			Name="GCC_CPP_Symbian_3rd"
			DisplayName="GCC Symbian 3rd ARM compiler"
			CommandLine="set path=..\..\Tools\Symbian\9.1\gcc\bin&#x0D;&#x0A;arm-none-symbianelf-c++ -c -pipe -s [OPTIMIZE] -fomit-frame-pointer -fno-unit-at-a-time -fno-default-inline -fexceptions -march=armv5t [THUMB] -mthumb-interwork -nostdinc -DNDEBUG -D_UNICODE -D__GCC32__ -D__MARM__ -D__SYMBIAN_3RD__ -D__SUPPORT_CPP_EXCEPTIONS__ -D__EABI__ -D__SYMBIAN32__ -D__EPOC32__ -include variant\symbian_os_v9.1.hrh [NOWARN] -I &quot;..\..\Include&quot; -fno-builtin -fno-rtti -DS60 -I $(IM_SYMB_S60_3RD_SDK)\Include -I $(IM_SYMB_S60_3RD_SDK)\Include\mmf\Plugin [ADDOPTS] -o &quot;$(IntDir)\$(InputName).o&quot; &quot;$(InputPath)&quot; [LISTING]&#x0D;&#x0A;"
			Outputs="$(IntDir)\$(InputName).o"
			AdditionalDependencies="..\..\Include;[ADDDEPS]"
			FileExtensions="*.xxx"
			ExecutionDescription="$(InputFileName)"
			>
			<Properties>
				<StringProperty
					Name="ADDDEPS"
					DisplayName="Additional dependencies"
					Description="List of dependencies (files or folders), which must be older than file generated by this rule. Separate multiple by &apos;;&apos;."
					Switch="[value]"
				/>
				<BooleanProperty
					Name="LISTING"
					DisplayName="Listing file"
					Description="Generate assembly listing file"
					Switch="-Wa,-alhn=$(IntDir)\$(InputName).lst"
					DefaultValue="true"
				/>
				<BooleanProperty
					Name="NOWARN"
					DisplayName="No warnings"
					Description="Inhibit all warning messages. "
					Switch="-w"
					DefaultValue="true"
				/>
				<EnumProperty
					Name="OPTIMIZE"
					DisplayName="Optimization type"
					Description="General optimization type"
					DefaultValue="4"
					>
					<Values>
						<EnumValue
							Value="0"
							Switch="-O"
							DisplayName="Basic (-O)"
						/>
						<EnumValue
							Value="1"
							Switch="-O2"
							DisplayName="Optimize even more (-O2)"
						/>
						<EnumValue
							Value="2"
							Switch="-O3"
							DisplayName="Optimize yet more (-O3)"
						/>
						<EnumValue
							Value="3"
							Switch="-O0"
							DisplayName="Do not optimize (-O0)"
						/>
						<EnumValue
							Value="4"
							Switch="-Os"
							DisplayName="Optimize for size (-Os)"
						/>
					</Values>
				</EnumProperty>
				<StringProperty
					Name="ADDOPTS"
					DisplayName="Additional settings"
					Description="Any additional settings passed to gcc compiler"
					Switch="[value]"
				/>
				<BooleanProperty
					Name="THUMB"
					DisplayName="Thumb code"
					Description="Compile thumb code"
					Switch="-mthumb"
				/>
			</Properties>
		</CustomBuildRule>
		<CustomBuildRule
			Name="RSC_3RD"
			DisplayName="Resource compiler Symbian 9.1"
			CommandLine="set path=..\..\Tools\Symbian\9.1\gcc\bin&#x0D;&#x0A;if &quot;[S60orUIQ]&quot; == &quot;S60&quot; set ARGS=-I $(IM_SYMB_S60_3RD_SDK)\Include -DS60&#x0D;&#x0A;arm-none-symbianelf-cpp -w -undef -C %ARGS% -D_UNICODE -D_3RD &quot;$(InputPath)&quot; -o $(IntDir)\res.rpp&#x0D;&#x0A;if errorlevel 1 goto end&#x0D;&#x0A;set path=..\..\Tools\Symbian\9.1\Tools&#x0D;&#x0A;rcomp -u -o$(IntDir)\$(InputName).rsc -s$(IntDir)\res.rpp&#x0D;&#x0A;if errorlevel 1 goto end&#x0D;&#x0A;del $(IntDir)\res.rpp&#x0D;&#x0A;set COPY_DEST=Resource\Apps&#x0D;&#x0A;if &quot;[REGFILE]&quot;==&quot;_reg&quot; set COPY_DEST=Private\10003a3f\Apps&#x0D;&#x0A;if &quot;[S60orUIQ]&quot; == &quot;S60&quot; set DST_PL=$(IM_SYMB_S60_3RD_SDK)&#x0D;&#x0A;if &quot;[APPNAME]&quot; NEQ &quot;&quot; copy $(IntDir)\$(InputName).rsc %DST_PL%\Release\winscw\Udeb\Z\%COPY_DEST%\[APPNAME][REGFILE].rsc &gt;nul&#x0D;&#x0A;:end"
			Outputs="$(IntDir)\$(InputName).rsc"
			FileExtensions="*.xxx"
			ExecutionDescription="Compiling resource..."
			>
			<Properties>
				<StringProperty
					Name="APPNAME"
					DisplayName="Application name"
					Description="Application name for emulator (if not empty, file is copied to emulator folder under this name)."
					Switch="[value]"
				/>
				<BooleanProperty
					Name="REGFILE"
					DisplayName="Is registration file"
					Description="Set for resource registration file"
					Switch="_reg"
				/>
				<EnumProperty
					Name="S60orUIQ"
					DisplayName="Platform"
					Description="Setting specifying if resource file is for S60 or UIQ platform."
					>
					<Values>
						<EnumValue
							Value="0"
							Switch="S60"
							DisplayName="S60"
						/>
					</Values>
				</EnumProperty>
			</Properties>
		</CustomBuildRule>
		
	</Rules>
</VisualStudioToolFile>
